<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canvas - animaci칩n b치sica</title>
    <style>
        body{
            width: 600px;
            margin: 0 auto;
            text-align: center;
        }
        canvas{
            background-color: green;
        }
    </style>
    <script>
        const game = {
            ctx:null,
            canvas:null,
            radio:10,
            bolaX:300,
            bolaY:200,
            colorBola:"red",
            dx:4,
            dy:2,
            limiteDerecha:0,
            limiteIzquierda:0,
            limiteAbajo:0,
            limiteArriba:0
        }
            
        window.onload = function(){
            game.canvas = document.getElementById('canvas');
            if(game.canvas && game.canvas.getContext){
                game.ctx = canvas.getContext('2d');
                if(game.ctx){
                   inicio();
                   mueve();
                   setInterval(mueve, 60);
                }
                else{
                    
                    alert("No cuentas con canvas");
                }
            }
        }
        const inicio=()=>{
            game.ctx.lineWidth = game.radio;
            game.ctx.fillStyle = game.colorBola;

            game.limiteDerecha = game.canvas.width - game.radio;
            game.limiteIzquierda = game.radio;
            game.limiteAbajo = game.canvas.height - game.radio;
            game.limiteArriba = game.radio;
        }
        
        const mueve=()=>{
            game.ctx.clearRect(0,0,game.canvas.width, game.canvas.height);
            verificar();
            game.bolaX += game.dx;
            game.bolaY += game.dy;
            game.ctx.beginPath();
            game.ctx.arc(game.bolaX, game.bolaY, game.radio, 0, 2*Math.PI, true);
            game.ctx.fill();
        }

        const verificar=()=>{
            let nBolaX = game.bolaX + game.dx;
            let nBolaY = game.bolaY + game.dy;

            if(nBolaX > game.limiteDerecha){
                game.dx = -game.dx;
                nbolaX = game.limiteDerecha;
            }
            if(nBolaX < game.limiteIzquierda){
                game.dx = -game.dx;
                nbolaX = game.limiteIzquierda;
            }
            if(nBolaY > game.limiteAbajo){
                game.dy = -game.dy;
                nbolaY = game.limiteAbajo;
            }
            if(nBolaY < game.limiteArriba){
                game.dy = -game.dy;
                nbolaY = game.limiteArriba;
            }
            game.bolaX = nBolaX;
        }
    </script>
</head>
<body>
    <h1>Animaci칩n b치sica</h1>
    <canvas id="canvas" width="600" height="400">
        Tu navegador no soporta la etiqueta canvas
    </canvas>
</body>
</html>